---
import { Heading } from '@design-system/elements/Heading';
import { Tale } from 'src/utilities/api/queries/translated';
import { MultiContentBlock } from '../ContentBlock';
import { Switcher } from '../Layout/Grid';
import { Retain } from '../Layout/Retain';
import { Stack } from '../Layout/Stack';
import { Picture } from '../Picture';

type Props = Tale;

const { title, multiContentBlocks, picture } = Astro.props;
---

<section class="c-tale">
	<Switcher class="c-tale__switcher">
		<Stack>
			<Retain variant={'text'}>
				<Heading>{title}</Heading>
				{
					multiContentBlocks ? (
						<MultiContentBlock multiContentBlocks={multiContentBlocks} />
					) : null
				}
			</Retain>
		</Stack>
		{picture ? <Picture class="c-tale__picture" {...picture} /> : null}
	</Switcher>
</section>

<style lang="scss">
	@use '@design-system-styles/tools/_list.scss';

	.c-tale {
		&:nth-of-type(even) {
			.c-tale__switcher {
				flex-direction: row-reverse;
			}
		}
	}

	.c-tale__picture {
		:global(img) {
			inline-size: 100%;
			max-inline-size: 14rem; // 280px
			margin-inline: auto;
		}
	}
</style>

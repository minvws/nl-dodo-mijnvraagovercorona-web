---
import type { Props as SubmitProps } from './Submit.astro';
import type { Props as AnswersSingleProps } from './AnswersSingle.astro';
import type { Props as AnswersMultipleProps } from './AnswersMultiple.astro';
import AnswersSingle from './AnswersSingle.astro';
import AnswersMultiple from './AnswersMultiple.astro';
import { AssistanceProps } from 'src/utilities/api/queries/assistance';
import AnswersDate from './AnswersDate.astro';

export interface Props {
	content: AnswersSingleProps['content'];
	answersSingle?: AnswersSingleProps['answers'];
	answersMultiple?: AnswersMultipleProps['answers'];
	showMore: {
		max: number;
		label: {
			this: string;
			that: string;
		};
	};
	// ageInput: {
	// 	label: string;
	// 	placeholder: string;
	// };
	type: 'multiple' | 'single' | 'datepicker' | 'buttons' | 'age';
	buttons: SubmitProps['buttons'];
	assistance?: AssistanceProps;
}

const {
	type,
	content,
	answersSingle,
	answersMultiple,
	buttons,
	showMore,
	assistance,
} = Astro.props;
---

<>
	{
		type === 'single' && answersSingle ? (
			<AnswersSingle
				answers={answersSingle}
				buttons={buttons}
				content={content}
				assistance={assistance}
			/>
		) : type === 'multiple' && answersMultiple ? (
			<AnswersMultiple
				showMoreLabel={showMore.label}
				answers={answersMultiple}
				buttons={buttons}
				content={content}
				assistance={assistance}
			/>
		) : type === 'datepicker' ? (
			<AnswersDate buttons={buttons} />
		) : null
	}
</>

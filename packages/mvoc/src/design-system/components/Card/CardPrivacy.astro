---
import { Heading } from '@design-system/elements/Heading';
import { Stack } from '@design-system/components/Layout/Stack';
import { Card } from '.';
import { getLocaleFromURL } from 'src/utilities/locale/translation';
import { SiteSettingsProps, useSiteSettings } from 'src/utilities/api/queries';
import { Sprite } from 'astro-icon';

interface Props {}

const {} = Astro.props;
const locale = getLocaleFromURL(Astro.url.pathname);
const siteSettings: SiteSettingsProps = await useSiteSettings({ locale });
---

<Card variant="frost" class="c-card-privacy">
	<Stack>
		<Heading>{siteSettings.privacy.title}</Heading>
		<ul class="c-card-privacy__list" role="list">
			{
				siteSettings.privacy.beloftes.map((belofte) => (
					<li>
						<Sprite
							class="c-card-privacy__icon"
							name="privacy-shield"
							optimize={true}
						/>
						<span class="c-card-privacy__label">{belofte}</span>
					</li>
				))
			}
		</ul>
	</Stack>
</Card>

<style lang="scss">
	.c-card-privacy {
		--card-privacy-icon-size: 1.4rem; // 28px
	}
	.c-card-privacy__list {
		> li {
			position: relative;
			padding-inline-start: var(--space-r-huge);
			& + li {
				margin-block-start: var(--space-r-small);
			}
		}
	}

	.c-card-privacy__label {
	}

	.c-card-privacy__icon {
		position: absolute;
		inset-inline-start: 0;
		inline-size: var(--card-privacy-icon-size);
		block-size: 1.7rem; // 34px
		color: var(--color-accent-gifgroen);
	}
</style>
